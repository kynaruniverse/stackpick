/* ============================================================
   STACK PICK — MAIN STYLESHEET v4
   Design direction: Clean editorial minimal
   Font: DM Sans (body) + DM Mono (accents/prices)
   Mobile-first. Desktop via min-width queries.

   CONTENTS
   01  Tokens
   02  Reset
   03  Base & typography
   04  Links & focus
   05  Skip link
   06  Header
   07  Page layout
   08  Sidebar
   09  Bottom nav
   10  More panel
   11  Hero — category pages
   12  Home hero
   13  Trust strip
   14  Stacks section
   15  Browse grid
   16  Product grid & cards
   17  Pricing block
   18  Pros / Cons
   19  Buying guide
   20  Breadcrumb
   21  Category cards
   22  Comparison table
   23  Verdict box
   24  Guide summary table
   25  Footer
   26  Utilities & states
   27  Reduced motion
   28  Print
   29  Price badge
   30  Newsletter
   ============================================================ */


/* ============================================================
   01  TOKENS
   ============================================================ */
:root {
    --bg-primary:        #FAFAF9;
    --bg-secondary:      #F5F4F2;
    --bg-surface:        #FFFFFF;
    --text-primary:      #18181B;
    --text-secondary:    #71717A;
    --text-tertiary:     #A1A1AA;
    --accent-primary:    #2563EB;
    --accent-secondary:  #7C3AED;
    --accent-warm:       #EA580C;
    --border-color:      #E4E4E7;
    --border-strong:     #D4D4D8;
    --card-bg:           #FFFFFF;
    --success:           #16A34A;
    --danger:            #DC2626;
    --warning:           #D97706;

    --shadow-sm:   0 1px 2px rgba(0,0,0,0.05);
    --shadow:      0 1px 4px rgba(0,0,0,0.07), 0 4px 12px rgba(0,0,0,0.04);
    --shadow-lg:   0 2px 8px rgba(0,0,0,0.06), 0 12px 32px rgba(0,0,0,0.08);
    --shadow-card: 0 0 0 1px rgba(0,0,0,0.06), 0 2px 8px rgba(0,0,0,0.06);
    --focus-ring:  0 0 0 3px rgba(37,99,235,0.25);

    --space-1:  0.25rem;
    --space-2:  0.5rem;
    --space-3:  0.75rem;
    --space-4:  1rem;
    --space-5:  1.25rem;
    --space-6:  1.5rem;
    --space-8:  2rem;
    --space-10: 2.5rem;
    --space-12: 3rem;
    --space-16: 4rem;
    --space-20: 5rem;

    --radius-sm:   0.25rem;
    --radius:      0.5rem;
    --radius-lg:   0.75rem;
    --radius-xl:   1rem;
    --radius-full: 9999px;

    --font-sans: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    --font-mono: 'DM Mono', 'Fira Code', monospace;
    --text-xs:   0.72rem;
    --text-sm:   0.875rem;
    --text-base: 1rem;
    --text-lg:   1.125rem;
    --text-xl:   1.25rem;
    --text-2xl:  1.5rem;
    --text-3xl:  1.875rem;
    --text-4xl:  2.25rem;
    --text-5xl:  3rem;

    --sidebar-width:      224px;
    --header-height:      56px;
    --bottom-nav-height:  62px;
    --container-max:      1200px;
    --content-max:        760px;

    --ease-fast:   0.12s ease;
    --ease-normal: 0.2s ease;
    --ease-slow:   0.35s cubic-bezier(0.16, 1, 0.3, 1);
}

[data-theme="dark"] {
    --bg-primary:    #0C0C0E;
    --bg-secondary:  #131316;
    --bg-surface:    #1A1A1F;
    --text-primary:  #FAFAFA;
    --text-secondary:#A1A1AA;
    --text-tertiary: #71717A;
    --accent-primary:#3B82F6;
    --accent-secondary:#8B5CF6;
    --border-color:  #27272A;
    --border-strong: #3F3F46;
    --card-bg:       #18181B;
    --shadow-sm:   0 1px 2px rgba(0,0,0,0.3);
    --shadow:      0 1px 4px rgba(0,0,0,0.4), 0 4px 12px rgba(0,0,0,0.3);
    --shadow-lg:   0 2px 8px rgba(0,0,0,0.5), 0 12px 32px rgba(0,0,0,0.4);
    --shadow-card: 0 0 0 1px rgba(255,255,255,0.06), 0 2px 8px rgba(0,0,0,0.4);
    --focus-ring:  0 0 0 3px rgba(59,130,246,0.3);
}


/* ============================================================
   02  RESET
   ============================================================ */
*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior:smooth; text-size-adjust:100%; -webkit-text-size-adjust:100%; }
img, video, svg { display:block; max-width:100%; }
button, input, select, textarea { font:inherit; }
ul, ol { list-style:none; }


/* ============================================================
   03  BASE & TYPOGRAPHY
   ============================================================ */
body {
    font-family: var(--font-sans);
    font-size: var(--text-base);
    line-height: 1.6;
    color: var(--text-primary);
    background-color: var(--bg-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    padding-bottom: calc(var(--bottom-nav-height) + env(safe-area-inset-bottom));
    transition: background-color var(--ease-normal), color var(--ease-normal);
}

h1 { font-size: clamp(1.75rem, 5vw, 2.75rem); font-weight: 700; line-height: 1.1; letter-spacing: -0.03em; }
h2 { font-size: clamp(1.3rem, 3vw, 1.875rem);  font-weight: 600; line-height: 1.2; letter-spacing: -0.02em; }
h3 { font-size: clamp(1rem, 2vw, 1.2rem);      font-weight: 600; line-height: 1.3; letter-spacing: -0.01em; }
h4 { font-size: var(--text-base); font-weight: 600; }
h1,h2,h3,h4,h5,h6 { color: var(--text-primary); }

p { color: var(--text-secondary); margin-bottom: var(--space-4); }
p:last-child { margin-bottom: 0; }
strong { color: var(--text-primary); font-weight: 600; }


/* ============================================================
   04  LINKS & FOCUS
   ============================================================ */
a { color: var(--accent-primary); text-decoration: none; transition: color var(--ease-fast); }
a:hover { color: var(--accent-secondary); }
:focus { outline: none; }
:focus-visible { outline: 2px solid var(--accent-primary); outline-offset: 3px; border-radius: var(--radius-sm); }


/* ============================================================
   05  SKIP LINK
   ============================================================ */
.skip-link {
    position: absolute; top: -100px; left: var(--space-4);
    padding: var(--space-2) var(--space-4);
    background: var(--accent-primary); color: #fff;
    font-weight: 600; font-size: var(--text-sm);
    border-radius: var(--radius); text-decoration: none;
    z-index: 9999; transition: top var(--ease-fast);
}
.skip-link:focus { top: var(--space-4); }


/* ============================================================
   06  HEADER
   ============================================================ */
header {
    position: sticky; top: 0; z-index: 300;
    height: var(--header-height);
    background-color: var(--bg-primary);
    border-bottom: 1px solid var(--border-color);
    transition: background-color var(--ease-normal), border-color var(--ease-normal);
}

.header-container {
    height: 100%; display: flex; align-items: center;
    justify-content: space-between;
    padding: 0 var(--space-4);
    max-width: var(--container-max); margin: 0 auto;
}

.logo {
    font-size: var(--text-lg); font-weight: 700;
    color: var(--text-primary); text-decoration: none;
    letter-spacing: -0.04em; flex-shrink: 0;
    transition: opacity var(--ease-fast);
    display: flex; align-items: center; gap: 0.1em;
}
.logo:hover { opacity: 0.65; color: var(--text-primary); }
.logo span { color: var(--accent-primary); }

.header-nav { display: none; }

.theme-toggle {
    width: 36px; height: 36px;
    display: flex; align-items: center; justify-content: center;
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-full);
    cursor: pointer; font-size: 1rem;
    color: var(--text-primary);
    transition: background-color var(--ease-fast), border-color var(--ease-fast);
    -webkit-tap-highlight-color: transparent; flex-shrink: 0;
}
.theme-toggle:hover { background-color: var(--border-color); border-color: var(--border-strong); }


/* ============================================================
   07  PAGE LAYOUT
   ============================================================ */
.page-wrapper { width: 100%; min-width: 0; }

@media (min-width: 768px) {
    body {
        display: grid;
        grid-template-columns: var(--sidebar-width) 1fr;
        grid-template-rows: var(--header-height) 1fr auto;
        min-height: 100vh;
        padding-bottom: 0;
    }
    header           { grid-column: 1 / -1; grid-row: 1; }
    .desktop-sidebar { grid-column: 1;      grid-row: 2 / -1; }
    .page-wrapper    { grid-column: 2;      grid-row: 2; }
    footer           { grid-column: 2;      grid-row: 3; }
}


/* ============================================================
   08  SIDEBAR
   ============================================================ */
.desktop-sidebar { display: none; }

@media (min-width: 768px) {
    .desktop-sidebar {
        display: flex; flex-direction: column;
        position: sticky; top: var(--header-height);
        height: calc(100vh - var(--header-height));
        overflow-y: auto;
        background: var(--bg-primary);
        border-right: 1px solid var(--border-color);
        padding: var(--space-6) 0;
        scrollbar-width: none;
        transition: background-color var(--ease-normal);
    }
    .desktop-sidebar::-webkit-scrollbar { display: none; }

    .sidebar-section { margin-bottom: var(--space-5); }

    .sidebar-heading {
        font-size: 0.6rem; font-weight: 600;
        text-transform: uppercase; letter-spacing: 0.12em;
        color: var(--text-tertiary);
        padding: 0 var(--space-5); margin-bottom: var(--space-2);
        display: block; font-family: var(--font-mono);
    }

    .sidebar-link {
        display: flex; align-items: center; gap: var(--space-3);
        padding: var(--space-2) var(--space-5);
        color: var(--text-secondary); text-decoration: none;
        font-size: var(--text-sm); font-weight: 450;
        border-left: 2px solid transparent;
        transition: color var(--ease-fast), background-color var(--ease-fast), border-left-color var(--ease-fast);
        cursor: pointer; letter-spacing: -0.01em;
    }
    .sidebar-link:hover { color: var(--text-primary); background-color: var(--bg-secondary); border-left-color: var(--border-strong); }
    .sidebar-link.active { color: var(--accent-primary); background-color: var(--bg-secondary); border-left-color: var(--accent-primary); font-weight: 500; }
    .sidebar-link .nav-icon { font-size: 0.95rem; flex-shrink: 0; width: 1.2rem; text-align: center; line-height: 1; opacity: 0.75; }

    .sidebar-link-disabled {
        display: flex; align-items: center; gap: var(--space-3);
        padding: var(--space-2) var(--space-5);
        color: var(--text-tertiary); font-size: var(--text-sm); font-weight: 450;
        opacity: 0.5; cursor: default; border-left: 2px solid transparent;
    }

    .sidebar-badge {
        margin-left: auto; font-size: 0.55rem; font-weight: 600;
        background: var(--bg-secondary); color: var(--text-tertiary);
        border: 1px solid var(--border-color);
        padding: 0.1rem 0.45rem; border-radius: var(--radius-full);
        text-transform: uppercase; letter-spacing: 0.06em;
        font-family: var(--font-mono);
    }

    .sidebar-divider { height: 1px; background: var(--border-color); margin: var(--space-3) var(--space-5); }

    .sidebar-theme-btn {
        margin: auto var(--space-5) 0;
        display: flex; align-items: center; gap: var(--space-3);
        padding: var(--space-2) var(--space-3);
        background: transparent; border: 1px solid var(--border-color);
        border-radius: var(--radius);
        color: var(--text-secondary); font-size: var(--text-sm); font-weight: 450;
        cursor: pointer; width: calc(100% - (var(--space-5) * 2));
        transition: border-color var(--ease-fast), color var(--ease-fast), background var(--ease-fast);
        -webkit-tap-highlight-color: transparent;
    }
    .sidebar-theme-btn:hover { border-color: var(--border-strong); color: var(--text-primary); background: var(--bg-secondary); }

    header .theme-toggle { display: none; }
    header nav { display: none !important; }
}


/* ============================================================
   09  BOTTOM NAV
   ============================================================ */
.bottom-nav {
    position: fixed; bottom: 0; left: 0; right: 0; z-index: 400;
    background-color: var(--bg-primary);
    border-top: 1px solid var(--border-color);
    padding-bottom: env(safe-area-inset-bottom);
    transition: background-color var(--ease-normal);
}

.bottom-nav-items {
    display: flex; height: var(--bottom-nav-height);
    align-items: stretch; padding: 0 var(--space-2); gap: var(--space-1);
}

.bottom-nav-item { flex: 1; display: flex; }

.bottom-nav-link {
    flex: 1; display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    gap: 4px; padding: var(--space-2) var(--space-1);
    color: var(--text-tertiary); text-decoration: none;
    font-size: 0.58rem; font-weight: 500; letter-spacing: 0.03em;
    background: none; border: none; cursor: pointer;
    border-radius: var(--radius);
    transition: color var(--ease-fast), background-color var(--ease-fast);
    -webkit-tap-highlight-color: transparent; position: relative;
}
.bottom-nav-link .nav-icon { font-size: 1.25rem; line-height: 1; transition: transform var(--ease-slow); }
.bottom-nav-link .nav-label { line-height: 1; }
.bottom-nav-link:hover,
.bottom-nav-link.active { color: var(--accent-primary); background-color: var(--bg-secondary); }
.bottom-nav-link.active .nav-icon { transform: translateY(-1px); }
.bottom-nav-link.active::after {
    content: ''; position: absolute; bottom: 5px; left: 50%;
    transform: translateX(-50%); width: 3px; height: 3px;
    background: var(--accent-primary); border-radius: var(--radius-full);
}

@media (min-width: 768px) { .bottom-nav { display: none; } }


/* ============================================================
   10  MORE PANEL
   ============================================================ */
.more-panel-overlay {
    display: none; position: fixed; inset: 0;
    background: rgba(0,0,0,0.3); z-index: 390;
    backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px);
}
.more-panel-overlay.open { display: block; }

.bottom-nav-more-panel {
    display: none; position: fixed;
    bottom: calc(var(--bottom-nav-height) + env(safe-area-inset-bottom));
    left: var(--space-3); right: var(--space-3);
    z-index: 395;
    background: var(--bg-surface);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-xl);
    padding: var(--space-5) var(--space-4);
    box-shadow: var(--shadow-lg);
}
.bottom-nav-more-panel.open {
    display: block;
    animation: panelUp var(--ease-slow) forwards;
}
@keyframes panelUp {
    from { transform: translateY(16px); opacity: 0; }
    to   { transform: translateY(0);    opacity: 1; }
}

.more-panel-title {
    font-size: var(--text-xs); font-weight: 600;
    text-transform: uppercase; letter-spacing: 0.1em;
    color: var(--text-tertiary); margin-bottom: var(--space-4);
    font-family: var(--font-mono);
}

.more-panel-grid {
    display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-2);
}

.more-panel-link {
    display: flex; flex-direction: column; align-items: center;
    gap: var(--space-2); padding: var(--space-3) var(--space-2);
    background: var(--bg-secondary); border: 1px solid var(--border-color);
    border-radius: var(--radius-lg); color: var(--text-primary);
    text-decoration: none; font-size: 0.65rem; font-weight: 500;
    text-align: center; letter-spacing: -0.01em;
    transition: background-color var(--ease-fast), border-color var(--ease-fast), color var(--ease-fast), transform var(--ease-fast);
    -webkit-tap-highlight-color: transparent;
}
.more-panel-link .nav-icon { font-size: 1.35rem; line-height: 1; }
.more-panel-link:hover,
.more-panel-link:active { background: var(--accent-primary); border-color: var(--accent-primary); color: #fff; transform: scale(0.97); }

.more-panel-link-disabled {
    display: flex; flex-direction: column; align-items: center;
    gap: var(--space-2); padding: var(--space-3) var(--space-2);
    background: var(--bg-secondary); border: 1px solid var(--border-color);
    border-radius: var(--radius-lg); color: var(--text-tertiary);
    font-size: 0.65rem; font-weight: 500; text-align: center;
    opacity: 0.4; cursor: default;
}

@media (min-width: 768px) {
    .more-panel-overlay,
    .bottom-nav-more-panel { display: none !important; }
}


/* ============================================================
   11  HERO — category pages
   ============================================================ */
.hero {
    background: var(--bg-primary);
    padding: var(--space-10) var(--space-4) var(--space-8);
    border-bottom: 1px solid var(--border-color);
    position: relative;
}

.hero::before {
    content: ''; position: absolute;
    left: 0; top: 0; bottom: 0; width: 3px;
    background: linear-gradient(180deg, var(--accent-primary), var(--accent-secondary));
}

@media (min-width: 768px) {
    .hero::before { display: none; }
    .hero { padding: var(--space-12) var(--space-8) var(--space-10); }
}

.hero-container { max-width: var(--content-max); margin: 0 auto; }

.hero-eyebrow {
    display: inline-block;
    font-size: var(--text-xs); font-weight: 600;
    text-transform: uppercase; letter-spacing: 0.1em;
    color: var(--accent-primary); margin-bottom: var(--space-3);
    font-family: var(--font-mono);
}

.hero h1 { color: var(--text-primary); margin-bottom: var(--space-3); }

.hero p {
    color: var(--text-secondary); font-size: var(--text-lg);
    margin: 0; max-width: 520px; line-height: 1.6;
}


/* ============================================================
   12  HOME HERO
   ============================================================ */
.home-hero {
    background: var(--bg-primary);
    padding: var(--space-10) var(--space-4);
    border-bottom: 1px solid var(--border-color);
    position: relative; overflow: hidden;
}

.home-hero::after {
    content: 'SP';
    position: absolute; right: -0.05em; top: 50%;
    transform: translateY(-50%);
    font-size: clamp(7rem, 22vw, 16rem);
    font-weight: 800; letter-spacing: -0.06em;
    color: var(--border-color);
    line-height: 1; pointer-events: none; user-select: none;
    opacity: 0.7;
}
[data-theme="dark"] .home-hero::after { opacity: 0.12; }

.home-hero-container { max-width: 620px; position: relative; z-index: 1; }

.home-hero-eyebrow {
    display: inline-flex; align-items: center; gap: var(--space-2);
    font-size: var(--text-xs); font-weight: 600;
    letter-spacing: 0.1em; text-transform: uppercase;
    color: var(--accent-primary); margin-bottom: var(--space-5);
    font-family: var(--font-mono);
}

.home-hero h1 { color: var(--text-primary); margin-bottom: var(--space-4); }

.home-hero p {
    color: var(--text-secondary); font-size: var(--text-lg);
    line-height: 1.65; margin-bottom: var(--space-8); max-width: 460px;
}

.home-hero-stats {
    display: flex; gap: var(--space-8); flex-wrap: wrap;
    padding-top: var(--space-6); border-top: 1px solid var(--border-color);
}

.hero-stat { display: flex; flex-direction: column; gap: var(--space-1); }

.hero-stat-number {
    font-size: var(--text-2xl); font-weight: 600;
    color: var(--text-primary); line-height: 1;
    letter-spacing: -0.04em; font-family: var(--font-mono);
}

.hero-stat-label { font-size: var(--text-xs); color: var(--text-tertiary); }

@media (min-width: 768px) { .home-hero { padding: var(--space-16) var(--space-8); } }


/* ============================================================
   13  TRUST STRIP
   ============================================================ */
.trust-strip {
    display: flex; flex-direction: column;
    border-bottom: 1px solid var(--border-color);
    background: var(--bg-secondary);
}
.trust-item {
    display: flex; align-items: center; gap: var(--space-3);
    padding: var(--space-4); border-bottom: 1px solid var(--border-color);
}
.trust-item:last-child { border-bottom: none; }
.trust-icon { font-size: var(--text-lg); flex-shrink: 0; opacity: 0.75; }
.trust-text strong { display: block; font-size: var(--text-sm); font-weight: 600; color: var(--text-primary); letter-spacing: -0.01em; }
.trust-text span { font-size: var(--text-xs); color: var(--text-tertiary); }

@media (min-width: 600px) {
    .trust-strip { flex-direction: row; }
    .trust-item { flex: 1; border-bottom: none; border-right: 1px solid var(--border-color); padding: var(--space-4) var(--space-5); }
    .trust-item:last-child { border-right: none; }
}


/* ============================================================
   14  STACKS SECTION
   ============================================================ */
.stacks-section { padding: var(--space-10) var(--space-4); }

.section-label {
    display: block; font-size: var(--text-xs); font-weight: 600;
    text-transform: uppercase; letter-spacing: 0.1em;
    color: var(--accent-primary); margin-bottom: var(--space-2);
    font-family: var(--font-mono);
}

.stacks-section h2 { margin-bottom: var(--space-2); }
.section-intro { color: var(--text-secondary); margin-bottom: var(--space-8); max-width: 500px; }

.stacks-grid { display: grid; gap: var(--space-3); }
@media (min-width: 640px)  { .stacks-grid { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 1100px) { .stacks-grid { grid-template-columns: repeat(4, 1fr); } }

.stack-card {
    background: var(--card-bg); border: 1px solid var(--border-color);
    border-radius: var(--radius-lg); overflow: hidden;
    display: flex; flex-direction: column;
    transition: border-color var(--ease-normal), box-shadow var(--ease-normal);
}
.stack-card:hover { border-color: var(--border-strong); box-shadow: var(--shadow); }

.stack-card-header { padding: var(--space-5); border-bottom: 1px solid var(--border-color); }

.stack-tier-badge {
    display: inline-block; font-size: 0.6rem; font-weight: 600;
    text-transform: uppercase; letter-spacing: 0.08em;
    padding: 0.2rem 0.55rem; border-radius: var(--radius-sm);
    color: #fff; margin-bottom: var(--space-3); font-family: var(--font-mono);
}
.stack-card h3 { font-size: var(--text-base); font-weight: 600; margin-bottom: var(--space-2); }
.stack-tagline { font-size: var(--text-sm); color: var(--text-secondary); margin: 0; line-height: 1.5; }

.stack-coming-soon-body {
    flex-grow: 1; display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    padding: var(--space-10) var(--space-5); text-align: center; gap: var(--space-2);
}
.stack-soon-icon { font-size: 1.75rem; line-height: 1; opacity: 0.35; }
.stack-soon-text { font-size: var(--text-sm); font-weight: 600; color: var(--text-primary); margin: 0; }
.stack-soon-sub  { font-size: var(--text-xs); color: var(--text-tertiary); margin: 0; max-width: 180px; line-height: 1.5; }

.stack-card-footer { padding: var(--space-4) var(--space-5); border-top: 1px solid var(--border-color); }

.stack-cta {
    display: block; width: 100%; padding: var(--space-3); text-align: center;
    border-radius: var(--radius); font-weight: 600; font-size: var(--text-sm);
    border: none; cursor: pointer; text-decoration: none;
    transition: background var(--ease-fast), opacity var(--ease-fast);
}
.stack-cta-live { background: var(--accent-primary); color: #fff; }
.stack-cta-live:hover { opacity: 0.85; color: #fff; }
.stack-cta-soon { background: var(--bg-secondary); border: 1px solid var(--border-color); color: var(--text-tertiary); cursor: default; font-size: var(--text-xs); }

@media (min-width: 768px) { .stacks-section { padding: var(--space-12) var(--space-8); } }


/* ============================================================
   15  BROWSE GRID
   ============================================================ */
.browse-section {
    padding: var(--space-8) var(--space-4);
    border-top: 1px solid var(--border-color);
}

.browse-section h2 {
    font-size: var(--text-xs); font-weight: 600;
    margin-bottom: var(--space-5); color: var(--text-tertiary);
    text-transform: uppercase; letter-spacing: 0.1em;
    font-family: var(--font-mono);
}

.browse-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-2); }
@media (min-width: 480px) { .browse-grid { grid-template-columns: repeat(5, 1fr); } }
@media (min-width: 768px) { .browse-grid { gap: var(--space-3); } .browse-section { padding: var(--space-10) var(--space-8); } }

.browse-card {
    display: flex; flex-direction: column; align-items: center;
    gap: var(--space-2); padding: var(--space-5) var(--space-2);
    background: var(--bg-surface); border: 1px solid var(--border-color);
    border-radius: var(--radius-lg); text-decoration: none; text-align: center;
    transition: border-color var(--ease-fast), transform var(--ease-fast);
    -webkit-tap-highlight-color: transparent;
}
.browse-card:hover { border-color: var(--accent-primary); transform: translateY(-2px); }
.browse-card:hover .browse-label { color: var(--accent-primary); }
.browse-card:hover .browse-icon { transform: scale(1.1); }
.browse-card.coming-soon { opacity: 0.35; pointer-events: none; }

.browse-icon { font-size: 1.75rem; line-height: 1; transition: transform var(--ease-slow); }

.browse-label {
    font-size: 0.68rem; font-weight: 600; color: var(--text-secondary);
    line-height: 1.2; transition: color var(--ease-fast); letter-spacing: -0.01em;
}

.browse-soon-tag { font-size: 0.5rem; font-weight: 600; color: var(--text-tertiary); text-transform: uppercase; letter-spacing: 0.06em; font-family: var(--font-mono); }


/* ============================================================
   16  PRODUCT GRID & CARDS
   ============================================================ */
.container { max-width: var(--container-max); margin: 0 auto; padding: var(--space-6) var(--space-4); }
.section { margin-bottom: var(--space-12); }

.product-grid { display: grid; gap: var(--space-3); }
@media (min-width: 580px)  { .product-grid { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 1024px) { .product-grid { grid-template-columns: repeat(3, 1fr); } }

.product-card {
    background: var(--card-bg); border: 1px solid var(--border-color);
    border-radius: var(--radius-xl); overflow: hidden;
    display: flex; flex-direction: column;
    transition: border-color var(--ease-normal), box-shadow var(--ease-normal), transform var(--ease-normal);
}
.product-card:hover { border-color: var(--border-strong); box-shadow: var(--shadow-lg); transform: translateY(-2px); }

.product-image-placeholder {
    width: 100%; height: 160px; background: var(--bg-secondary);
    display: flex; align-items: center; justify-content: center;
    font-size: 3rem; border-bottom: 1px solid var(--border-color); flex-shrink: 0;
}

.product-content { padding: var(--space-5); flex-grow: 1; display: flex; flex-direction: column; gap: var(--space-4); }

.product-badge {
    display: inline-block;
    background: var(--bg-secondary); color: var(--text-secondary);
    border: 1px solid var(--border-color);
    padding: 0.2rem 0.6rem; border-radius: var(--radius-full);
    font-size: 0.6rem; font-weight: 600; letter-spacing: 0.08em;
    text-transform: uppercase; width: fit-content; flex-shrink: 0;
    font-family: var(--font-mono);
}
.product-badge[style*="background"] { border-color: transparent; color: #fff; }

.product-title { font-size: var(--text-base); font-weight: 600; color: var(--text-primary); line-height: 1.3; margin: 0; letter-spacing: -0.02em; }
.product-desc  { font-size: var(--text-sm); color: var(--text-secondary); margin: 0; line-height: 1.6; flex-grow: 1; }

.product-btn {
    display: flex; align-items: center; justify-content: center; gap: var(--space-2);
    width: 100%; padding: var(--space-3) var(--space-4);
    background: var(--text-primary); color: var(--bg-primary);
    font-size: var(--text-sm); font-weight: 600; text-align: center;
    border: none; border-radius: var(--radius-lg);
    cursor: pointer; text-decoration: none; margin-top: auto;
    transition: opacity var(--ease-fast);
    -webkit-tap-highlight-color: transparent; letter-spacing: -0.01em;
}
.product-btn:hover { opacity: 0.78; color: var(--bg-primary); }
.product-btn:active { transform: scale(0.99); }
[data-theme="dark"] .product-btn { background: var(--text-primary); color: var(--bg-primary); }


/* ============================================================
   17  PRICING BLOCK
   ============================================================ */
.product-price-block {
    display: flex; align-items: baseline; flex-wrap: wrap; gap: var(--space-2);
    padding: var(--space-3) var(--space-4);
    background: var(--bg-secondary); border-radius: var(--radius-lg);
    border: 1px solid var(--border-color);
}

.price-current-label {
    display: block; width: 100%;
    font-size: 0.6rem; font-weight: 600; text-transform: uppercase;
    letter-spacing: 0.08em; color: var(--text-tertiary);
    margin-bottom: -0.3rem; font-family: var(--font-mono);
}

.price-current {
    font-size: var(--text-2xl); font-weight: 600; color: var(--text-primary);
    line-height: 1; font-family: var(--font-mono); letter-spacing: -0.03em;
}

.price-rrp-wrap { display: flex; flex-direction: column; align-items: flex-start; margin-left: var(--space-1); }
.price-rrp-label { font-size: 0.55rem; font-weight: 500; color: var(--text-tertiary); text-transform: uppercase; letter-spacing: 0.06em; line-height: 1; margin-bottom: 0.15rem; font-family: var(--font-mono); }
.price-rrp { font-size: var(--text-sm); font-weight: 400; color: var(--text-tertiary); text-decoration: line-through; line-height: 1; font-family: var(--font-mono); }

.price-saving {
    font-size: 0.68rem; font-weight: 600; color: var(--success);
    background-color: rgba(22,163,74,0.08);
    padding: 0.15rem 0.5rem; border-radius: var(--radius-full);
    margin-left: auto; align-self: center;
    white-space: nowrap; flex-shrink: 0; font-family: var(--font-mono);
}
[data-theme="dark"] .price-saving { background-color: rgba(22,163,74,0.15); color: #4ade80; }

.product-price { font-size: var(--text-2xl); font-weight: 600; color: var(--text-primary); font-family: var(--font-mono); }
.price-was, .old-price { font-size: var(--text-sm); color: var(--text-tertiary); text-decoration: line-through; margin-left: var(--space-1); font-family: var(--font-mono); }


/* ============================================================
   18  PROS / CONS
   ============================================================ */
.product-features { display: flex; flex-direction: column; gap: var(--space-1); flex-grow: 1; }

.product-features li {
    display: flex; align-items: flex-start; gap: var(--space-2);
    padding: var(--space-2) var(--space-3);
    font-size: var(--text-sm); color: var(--text-secondary);
    border-radius: var(--radius); line-height: 1.5;
}
.product-features li.pro { background: rgba(22,163,74,0.06); }
.product-features li.con { background: rgba(220,38,38,0.05); }

.pro-icon, .con-icon { font-size: 0.7rem; font-weight: 700; flex-shrink: 0; margin-top: 0.15rem; font-family: var(--font-mono); }
.pro-icon { color: var(--success); }
.con-icon { color: var(--danger); }


/* ============================================================
   19  BUYING GUIDE
   ============================================================ */
.buying-guide { max-width: var(--content-max); margin: 0 auto; }
.buying-guide h2 { margin-bottom: var(--space-5); }
.buying-guide h3 { color: var(--text-primary); margin-top: var(--space-6); margin-bottom: var(--space-2); font-size: var(--text-base); }
.buying-guide h3:first-child { margin-top: 0; }
.buying-guide p { line-height: 1.75; color: var(--text-secondary); }

.last-updated {
    font-size: var(--text-xs); color: var(--text-tertiary);
    margin-top: var(--space-6); padding-top: var(--space-4);
    border-top: 1px solid var(--border-color); font-family: var(--font-mono);
}


/* ============================================================
   20  BREADCRUMB
   ============================================================ */
.breadcrumb-bar { background: var(--bg-secondary); border-bottom: 1px solid var(--border-color); padding: var(--space-3) var(--space-4); }

.breadcrumb-list {
    display: flex; align-items: center; flex-wrap: wrap; gap: var(--space-2);
    font-size: var(--text-xs); max-width: var(--container-max);
    margin: 0 auto; font-family: var(--font-mono);
}
.breadcrumb-list li { color: var(--text-tertiary); }
.breadcrumb-list a { color: var(--text-secondary); }
.breadcrumb-list a:hover { color: var(--text-primary); }
.breadcrumb-list [aria-current="page"] { color: var(--text-primary); font-weight: 500; }
.breadcrumb-sep { color: var(--text-tertiary); }


/* ============================================================
   21  CATEGORY CARDS
   ============================================================ */
.category-grid { display: grid; gap: var(--space-3); }
@media (min-width: 480px) { .category-grid { grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 768px) { .category-grid { grid-template-columns: repeat(3, 1fr); } }

.category-card {
    background: var(--card-bg); border: 1px solid var(--border-color);
    border-radius: var(--radius-xl); padding: var(--space-6);
    text-align: center; text-decoration: none; display: block;
    transition: border-color var(--ease-fast), box-shadow var(--ease-fast), transform var(--ease-fast);
    -webkit-tap-highlight-color: transparent;
}
.category-card:hover { border-color: var(--border-strong); transform: translateY(-2px); box-shadow: var(--shadow); }
.category-card.coming-soon { opacity: 0.4; pointer-events: none; }
.category-icon { font-size: 2.5rem; margin-bottom: var(--space-4); line-height: 1; transition: transform var(--ease-slow); }
.category-card:hover .category-icon { transform: scale(1.08); }
.category-card h3 { margin-bottom: var(--space-2); font-size: var(--text-base); }
.category-card p { font-size: var(--text-sm); }

.badge-coming-soon {
    display: inline-block; background: var(--bg-secondary);
    color: var(--text-tertiary); border: 1px solid var(--border-color);
    font-size: 0.55rem; font-weight: 600; padding: 0.15rem 0.5rem;
    border-radius: var(--radius-full); letter-spacing: 0.06em;
    text-transform: uppercase; margin-left: var(--space-1);
    vertical-align: middle; font-family: var(--font-mono);
}


/* ============================================================
   22  COMPARISON TABLE
   ============================================================ */
.comparison-table-wrap { overflow-x: auto; margin: var(--space-6) 0; border-radius: var(--radius-lg); border: 1px solid var(--border-color); -webkit-overflow-scrolling: touch; }
.comparison-table { width: 100%; border-collapse: collapse; min-width: 520px; }
.comparison-table th { padding: var(--space-4) var(--space-5); text-align: left; background: var(--bg-secondary); font-size: var(--text-sm); font-weight: 600; color: var(--text-primary); border-bottom: 1px solid var(--border-color); letter-spacing: -0.01em; }
.comparison-table th:first-child { width: 35%; color: var(--text-tertiary); font-family: var(--font-mono); font-size: var(--text-xs); font-weight: 500; }
.comparison-table td { padding: var(--space-3) var(--space-5); border-bottom: 1px solid var(--border-color); font-size: var(--text-sm); color: var(--text-secondary); vertical-align: top; }
.comparison-table tr:last-child td { border-bottom: none; }
.comparison-table tr:nth-child(even) td { background: var(--bg-secondary); }
.comparison-table td:first-child { font-weight: 500; color: var(--text-primary); font-size: var(--text-xs); font-family: var(--font-mono); text-transform: uppercase; letter-spacing: 0.05em; }
.comparison-winner { color: var(--accent-primary) !important; font-weight: 600 !important; }


/* ============================================================
   23  VERDICT BOX
   ============================================================ */
.verdict-box {
    background: var(--bg-secondary); border: 1px solid var(--border-color);
    border-left: 3px solid var(--accent-primary);
    border-radius: var(--radius-lg);
    padding: var(--space-5) var(--space-6); margin: var(--space-6) 0;
}
.verdict-box h3 { color: var(--accent-primary); font-size: var(--text-xs); font-weight: 600; text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: var(--space-3); font-family: var(--font-mono); }
.verdict-box p { color: var(--text-primary); font-size: var(--text-sm); margin-bottom: var(--space-2); line-height: 1.65; }
.verdict-box p:last-child { margin-bottom: 0; }


/* ============================================================
   24  GUIDE SUMMARY TABLE
   ============================================================ */
.guide-summary-table { border: 1px solid var(--border-color); border-radius: var(--radius-lg); overflow: hidden; }

.summary-row { display: grid; grid-template-columns: 1fr 1fr; padding: var(--space-3) var(--space-4); border-bottom: 1px solid var(--border-color); font-size: var(--text-sm); gap: var(--space-3); align-items: center; }
@media (min-width: 480px) { .summary-row { grid-template-columns: 1fr 2fr 1fr; } .summary-row span:nth-child(2) { display: block; } }
.summary-row:last-child { border-bottom: none; }
.summary-row span:last-child { text-align: right; font-weight: 600; color: var(--text-primary); font-family: var(--font-mono); }
.summary-row span:nth-child(2) { color: var(--text-primary); display: none; }

.summary-header { background: var(--bg-secondary); font-size: var(--text-xs); font-weight: 600; text-transform: uppercase; letter-spacing: 0.07em; color: var(--text-tertiary); font-family: var(--font-mono); }
.summary-header span:last-child { color: var(--text-tertiary); font-weight: 600; }
.summary-total { background: var(--bg-secondary); font-weight: 600; }
.summary-total span:first-child { font-weight: 600; color: var(--text-primary); }
.summary-total span:last-child { font-size: var(--text-lg); color: var(--text-primary); font-family: var(--font-mono); }


/* ============================================================
   25  FOOTER
   ============================================================ */
footer {
    background: var(--bg-secondary); border-top: 1px solid var(--border-color);
    padding: var(--space-10) var(--space-4) var(--space-8); margin-top: var(--space-12);
}
.footer-container { max-width: var(--container-max); margin: 0 auto; }
.footer-grid { display: grid; gap: var(--space-8); margin-bottom: var(--space-8); }
@media (min-width: 640px) { .footer-grid { grid-template-columns: 2fr 1fr 1fr; } }

.footer-col { display: flex; flex-direction: column; gap: var(--space-3); }
.footer-col:not(:first-child) { padding-top: var(--space-6); border-top: 1px solid var(--border-color); }
@media (min-width: 640px) { .footer-col:not(:first-child) { padding-top: 0; border-top: none; } }

.footer-logo { font-size: var(--text-xl); font-weight: 700; color: var(--text-primary); text-decoration: none; letter-spacing: -0.04em; display: inline-block; }
.footer-logo span { color: var(--accent-primary); }
.footer-tagline { font-size: var(--text-sm); color: var(--text-tertiary); line-height: 1.6; margin: 0; max-width: 260px; }

.footer-heading { font-size: var(--text-xs); font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-tertiary); margin-bottom: var(--space-1); font-family: var(--font-mono); }

.footer-links { display: flex; flex-direction: column; gap: var(--space-2); }
.footer-links a { font-size: var(--text-sm); color: var(--text-secondary); text-decoration: none; transition: color var(--ease-fast); letter-spacing: -0.01em; }
.footer-links a:hover { color: var(--text-primary); }

.footer-bottom { border-top: 1px solid var(--border-color); padding-top: var(--space-6); }
.footer-bottom p { font-size: var(--text-xs); color: var(--text-tertiary); margin-bottom: var(--space-1); font-family: var(--font-mono); }
.footer-bottom a { color: var(--text-secondary); text-decoration: underline; }


/* ============================================================
   26  UTILITIES
   ============================================================ */
.section-title { text-align: center; margin-bottom: var(--space-6); }
.section-title p { color: var(--text-secondary); }

.btn {
    display: inline-flex; align-items: center; justify-content: center; gap: var(--space-2);
    padding: var(--space-3) var(--space-6); border-radius: var(--radius-lg);
    font-weight: 600; font-size: var(--text-sm); cursor: pointer; border: none;
    text-decoration: none; transition: opacity var(--ease-fast), transform var(--ease-fast);
    -webkit-tap-highlight-color: transparent; letter-spacing: -0.01em;
}
.btn:active { transform: scale(0.98); }
.btn-primary { background: var(--text-primary); color: var(--bg-primary); }
.btn-primary:hover { opacity: 0.8; color: var(--bg-primary); }
.btn-secondary { background: transparent; color: var(--text-primary); border: 1px solid var(--border-color); }
.btn-secondary:hover { border-color: var(--border-strong); background: var(--bg-secondary); color: var(--text-primary); }

nav a[aria-current="page"] { color: var(--accent-primary); }


/* ============================================================
   27  REDUCED MOTION
   ============================================================ */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}


/* ============================================================
   28  PRINT
   ============================================================ */
@media print {
    header, footer, .bottom-nav, .desktop-sidebar,
    .more-panel-overlay, .bottom-nav-more-panel,
    .product-btn, .stack-cta, .theme-toggle { display: none !important; }
    body { background: #fff; color: #000; padding: 0; display: block; }
    .page-wrapper { display: block; }
    a { text-decoration: underline; color: #000; }
    a[href]::after { content: " (" attr(href) ")"; font-size: 0.8em; }
}


/* ============================================================
   29  PRICE BADGE
   ============================================================ */
.price-badge {
    display: inline-block; font-size: 0.6rem;
    color: var(--text-tertiary); background: var(--bg-secondary);
    border: 1px solid var(--border-color); border-radius: var(--radius-sm);
    padding: 1px 6px; margin-left: 6px; vertical-align: middle;
    font-weight: 500; font-family: var(--font-mono);
}
[data-theme="dark"] .price-badge { background: var(--bg-secondary); border-color: var(--border-color); color: var(--text-tertiary); }


/* ============================================================
   30  NEWSLETTER
   ============================================================ */
.newsletter-section {
    background: var(--bg-secondary); border: 1px solid var(--border-color);
    border-radius: var(--radius-xl); padding: var(--space-8);
    margin: var(--space-8) var(--space-4); text-align: center;
}
.newsletter-section h2 { margin-bottom: var(--space-2); font-size: var(--text-xl); letter-spacing: -0.03em; }
.newsletter-section > p { color: var(--text-secondary); margin-bottom: var(--space-6); font-size: var(--text-sm); }

.newsletter-form { display: flex; gap: var(--space-2); justify-content: center; flex-wrap: wrap; margin-bottom: var(--space-3); }

.newsletter-input {
    padding: var(--space-3) var(--space-4); border: 1px solid var(--border-color);
    border-radius: var(--radius-lg); font-size: var(--text-sm); min-width: 220px;
    background: var(--bg-surface); color: var(--text-primary);
    transition: border-color var(--ease-fast), box-shadow var(--ease-fast);
}
.newsletter-input:focus { outline: none; border-color: var(--accent-primary); box-shadow: var(--focus-ring); }

.newsletter-btn {
    padding: var(--space-3) var(--space-6); background: var(--text-primary);
    color: var(--bg-primary); border: none; border-radius: var(--radius-lg);
    font-size: var(--text-sm); font-weight: 600; cursor: pointer;
    transition: opacity var(--ease-fast); letter-spacing: -0.01em;
}
.newsletter-btn:hover { opacity: 0.8; }
.newsletter-confirm { display: none; color: var(--success); font-weight: 600; margin: 0; font-size: var(--text-sm); }
.newsletter-note { font-size: var(--text-xs); color: var(--text-tertiary); margin: 0; font-family: var(--font-mono); }

@media (min-width: 768px) { .newsletter-section { margin: var(--space-8); } }
